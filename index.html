<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Space Shooter</title>
<style>
body{margin:0;overflow:hidden;background:black;color:#0f0;font-family:sans-serif}
canvas{display:block;width:100vw;height:100vh}
#hud,#controls,#menu{position:fixed;z-index:10}
#hud{left:12px;top:12px;font-weight:700}
#controls{right:12px;top:12px}
#menu{top:0;left:0;width:100vw;height:100vh;display:flex;align-items:center;justify-content:center;background:rgba(0,0,0,0.85);flex-direction:column;color:#0ff;font-size:24px;text-align:center}
button{margin-top:10px;padding:8px 14px;border-radius:6px;border:0;background:#222;color:#0ff;cursor:pointer}
</style>
</head>
<body>
<div id="menu">
  <div>Space Shooter</div>
  <div>Produced and Developed by Mahd Rashid</div>
  <div>Uata Marques Byron are mad buns</div>
  <button id="startBtn">Start Game</button>
</div>

<div id="hud">
  <div id="score">Score: 0</div>
  <div id="lives">Lives: 3</div>
</div>

<div id="controls">
  <button id="pauseBtn">Pause</button>
  <button id="resumeBtn">Resume</button>
</div>

<canvas id="game"></canvas>

<script>
const canvas=document.getElementById('game');
const ctx=canvas.getContext('2d');
let W=canvas.width=window.innerWidth;
let H=canvas.height=window.innerHeight;

// Game state
let paused=false;
let score=0;
let bullets=[],enemies=[],enemyBullets=[];

// Player
const player={x:W/2,y:H-80,w:40,h:40,speed:400,laserLevel:1,hits:0,maxHits:3};

// Input
const keys={left:false,right:false};
window.addEventListener('keydown',e=>{
  if(e.key==='a'||e.key==='A') keys.left=true;
  if(e.key==='d'||e.key==='D') keys.right=true;
});
window.addEventListener('keyup',e=>{
  if(e.key==='a'||e.key==='A') keys.left=false;
  if(e.key==='d'||e.key==='D') keys.right=false;
});

// Mouse shoot
canvas.addEventListener('mousedown',()=>{
  if(paused) return;
  for(let i=-player.laserLevel+1;i<=player.laserLevel-1;i++){
    bullets.push({x:player.x+i*10,y:player.y-20,r:5,dy:-600});
  }
});

// Pause/Resume
document.getElementById('pauseBtn').addEventListener('click',()=>paused=true);
document.getElementById('resumeBtn').addEventListener('click',()=>paused=false);

// Start game button
const menu=document.getElementById('menu');
document.getElementById('startBtn').addEventListener('click',()=>{
  menu.style.display='none';
  resetGame();
});

// Spawn enemies
function spawnEnemy(){
  if(paused) return;
  for(let n=0;n<2;n++){
    const x=Math.random()*(W-50)+25;
    enemies.push({x:x,y:50,w:40,h:40,speed:100+Math.random()*100,shootTimer:1+Math.random()*2});
  }
}
setInterval(spawnEnemy,1500);

// Update
function update(dt){
  if(paused) return;

  // Player move
  if(keys.left) player.x-=player.speed*dt;
  if(keys.right) player.x+=player.speed*dt;
  player.x=Math.max(20,Math.min(W-20,player.x));

  // Player bullets
  for(let i=bullets.length-1;i>=0;i--){
    bullets[i].y+=bullets[i].dy*dt;
    if(bullets[i].y<-10) bullets.splice(i,1);
  }

  // Enemies
  for(let i=enemies.length-1;i>=0;i--){
    let e=enemies[i];
    e.shootTimer-=dt;
    if(e.shootTimer<=0){
      enemyBullets.push({x:e.x+e.w/2,y:e.y+e.h,r:6,dy:600}); // 2x speed
      e.shootTimer=1+Math.random()*2;
    }
    // Collision with player bullets
    for(let j=bullets.length-1;j>=0;j--){
      let b=bullets[j];
      if(b.x>e.x && b.x<e.x+e.w && b.y>e.y && b.y<e.y+e.h){
        bullets.splice(j,1);
        enemies.splice(i,1);
        score+=10;
        player.laserLevel++;
        document.getElementById('score').textContent='Score: '+score;
        break;
      }
    }
  }

  // Enemy bullets
  for(let i=enemyBullets.length-1;i>=0;i--){
    let b=enemyBullets[i];
    b.y+=b.dy*dt;
    if(b.y>H) enemyBullets.splice(i,1);

    if(b.x>player.x-20 && b.x<player.x+20 && b.y>player.y-20 && b.y<player.y+20){
      enemyBullets.splice(i,1);
      player.hits++;
      if(player.hits>=player.maxHits){resetGame();return;}
      document.getElementById('lives').textContent='Lives: '+(player.maxHits-player.hits);
    }
  }
}

// Draw
function draw(){
  ctx.clearRect(0,0,W,H);

  // Player (blue spaceship)
  ctx.fillStyle='#00f';
  ctx.beginPath();
  ctx.moveTo(player.x,player.y-20);
  ctx.lineTo(player.x+20,player.y+20);
  ctx.lineTo(player.x-20,player.y+20);
  ctx.closePath();
  ctx.fill();

  // Player bullets
  ctx.fillStyle='#ff0';
  bullets.forEach(b=>{ctx.beginPath();ctx.arc(b.x,b.y,b.r,0,Math.PI*2);ctx.fill();});

  // Enemies (red)
  ctx.fillStyle='#f00';
  enemies.forEach(e=>ctx.fillRect(e.x,e.y,e.w,e.h));

  // Enemy bullets (pink)
  ctx.fillStyle='#ff69b4';
  enemyBullets.forEach(b=>{ctx.beginPath();ctx.arc(b.x,b.y,b.r,0,Math.PI*2);ctx.fill();});
}

// Reset
function resetGame(){
  bullets=[]; enemies=[]; enemyBullets=[];
  player.x=W/2; player.laserLevel=1; player.hits=0;
  score=0;
  document.getElementById('score').textContent='Score: 0';
  document.getElementById('lives').textContent='Lives: 3';
}

// Loop
let last=0;
function loop(ts){
  const dt=(ts-last)/1000; last=ts;
  update(dt);
  draw();
  requestAnimationFrame(loop);
}
requestAnimationFrame(loop);

// Resize
window.addEventListener('resize',()=>{
  W=canvas.width=window.innerWidth;
  H=canvas.height=window.innerHeight;
});
</script>
</body>
</html>
